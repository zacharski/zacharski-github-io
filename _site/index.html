<!DOCTYPE html>
<html>

<head>

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width initial-scale=1">

<meta property="og:title" content="Zacharski">
<title>Zacharski</title>
<meta property="og:description" content="Ron Zacharski">
<meta property="og:url" content="http://yulijia.net/freshman21/">
<meta property="og:site_name" content="Zacharski">
<meta property="og:locale" content="en_US">
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@yulijia">
<meta name="twitter:creator" content="@yulijia">
<meta name="twitter:title" content="Zacharski">
<meta name="twitter:description" content="Ron Zacharski">
<meta name="twitter:url" content="http://yulijia.net/freshman21/">

<meta name="keywords" content="Jekyll, theme, Freshman21">

<link rel="icon" href="/images/favicon.ico">
<link rel="stylesheet" href="/css/main.css">
<link rel="canonical" href="http://yulijia.net/freshman21/">
<link rel="alternate" type="application/atom+xml" title="Zacharski" href="http://yulijia.net/freshman21/feed.xml" />

<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>


</head>




<body>

<div class="container">

  <header class="site-header">

  <div class="wrapper">

    <h1 class="site-title"><a href="/">Zacharski</a></h1>
    <h3 class="site-meta">Thoughts on Machine Learning</h3>

    <nav class="site-nav">
      <a href="#" class="menu-icon">
        <svg viewBox="0 0 18 15">
          <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
          <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
          <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
        </svg>
      </a>
      <div class="trigger">
        
        
        <a class="page-link" href="/">Home</a>
        
        
        
        <a class="page-link" href="/about/">About</a>
        
        
        
        <a class="page-link" href="/archives/">Archives</a>
        
        
        
        <a class="page-link" href="/categories/">Categories</a>
        
        
        
        <a class="page-link" href="/tags/">Tags</a>
        
        
        
        <a class="page-link" href="/guestbook/">Guestbook</a>
        
        
        
        <a class="page-link" href="/feed.xml">Subscribe</a>
        
        
        
        
        
        
        
        
      </div>
    </nav>

  </div>

</header>


  

  <div class="page-content">
    <div class="wrapper">
      <div class="home">
  <div class="post" itemscope itemtype="http://schema.org/BlogPosting" >
    
    
  
    <header class="post-header">
      <h1 itemprop="name" class="post-title">
        <a itemprop="url" class="post-link" href="/news/2016/02/25/spark.html">Matrix Factorization</a>
      </h1>
      <meta itemprop="keywords" content="Recommendation Engines,Dot Product,Matrix Factorization" />
      <p class="post-meta">
      Posted in
      
      <a href="/categories/#news">news</a>
      
      
      and tagged
      
      <a href="/tags/#Recommendation Engines" title="Recommendation Engines">Recommendation Engines </a>, 
      
      <a href="/tags/#Dot Product" title="Dot Product">Dot Product </a>, 
      
      <a href="/tags/#Matrix Factorization" title="Matrix Factorization">Matrix Factorization </a>
      
      
      <time itemprop="datePublished" datetime="2016-02-25">
      on Feb 25, 2016
      </time>
      </p>
    </header>

    <article class="post-content" itemprop="articleBody">
      <p>Before I talk about how to make recommendations using matrix factorization, I need to review dot products.</p>

<p>A list of numbers, for example, Jake’s weights for the features: [-0.37,  2.38] is called a <strong>vector</strong>. A dot product is performed on two vectors of equal length and produces a single value. It is defined as follows:</p>

<p>Let A and B be two vectors of equal length. Then</p>

<div>$$ A \cdot  B = \sum_{i=1}^nA_iB_i=A_1B_1+A_2B_2+A_1B_1+...A_nB_n$$</div>

<p>So above we determined Jake’s rating of Taylor Swift by getting the dot product of Jake, <em>J</em> and Taylor Swift, <em>S</em>:</p>

<script type="math/tex; mode=display">J \cdot  S = -0.37 \times 0.79 +  2.38 \times 2.13 = 4.78</script>

<p>And, since I am giving things fancy names in this section,  I am going to call the Table from users to weights of the different features, Matrix P and the table from artists to weight Matrix Q. Once we have P and Q it is easy to make predictions.</p>

<h3 id="how-do-we-get-matrices-p-and-q">How do we get Matrices P and Q?</h3>

<p>Well we guess.</p>

<p>math stuff</p>
<div>let $$r_{ij}$$ be the rating user *i* gave to item *j*. </div>

<div>$$\hat{r}_{ij}=p_i^Tq_j=\sum_{k=1}^{k}p_{ik}q_{kj}$$</div>


    </article> <hr />
    
    
  
    <header class="post-header">
      <h1 itemprop="name" class="post-title">
        <a itemprop="url" class="post-link" href="/news/2016/02/22/code.html">Code</a>
      </h1>
      <meta itemprop="keywords" content="Scala,Matrix Factorization,Recommendation Engines" />
      <p class="post-meta">
      Posted in
      
      <a href="/categories/#news">news</a>
      
      
      and tagged
      
      <a href="/tags/#Scala" title="Scala">Scala </a>, 
      
      <a href="/tags/#Matrix Factorization" title="Matrix Factorization">Matrix Factorization </a>, 
      
      <a href="/tags/#Recommendation Engines" title="Recommendation Engines">Recommendation Engines </a>
      
      
      <time itemprop="datePublished" datetime="2016-02-22">
      on Feb 22, 2016
      </time>
      </p>
    </header>

    <article class="post-content" itemprop="articleBody">
      <p>Now let’s look at how I set up the recommendation engine.</p>

<div class="highlighter-rouge"><pre class="highlight"><code> class ALSAlgorithm(val ap: ALSAlgorithmParams)
    extends PAlgorithm[PreparedData, ALSModel, Query, PredictedResult] {

    @transient lazy val logger = Logger[this.type]

    def train(data: PreparedData): ALSModel = {
         // MLLib ALS cannot handle empty training data.
         require(!data.ratings.take(1).isEmpty,
         s"RDD[Rating] in PreparedData cannot be empty." +
         " Please check if DataSource generates TrainingData" +
         " and Preprator generates PreparedData correctly.")
         // Convert user and item String IDs to Int index for MLlib
         val userStringIntMap = BiMap.stringInt(data.ratings.map(_.user))
         val itemStringIntMap = BiMap.stringInt(data.ratings.map(_.item))
         val mllibRatings = data.ratings.map( r =&gt;
         // MLlibRating requires integer index for user and item
         MLlibRating(userStringIntMap(r.user), itemStringIntMap(r.item), r.rating)
     )
</code></pre>
</div>

<p>Let me explain that. …</p>


    </article> <hr />
    
    
  
    <header class="post-header">
      <h1 itemprop="name" class="post-title">
        <a itemprop="url" class="post-link" href="/news/2015/03/31/2-0version.html">2.0 version</a>
      </h1>
      <meta itemprop="keywords" content="version,new features,google analytics,google search,back to top,read more" />
      <p class="post-meta">
      Posted in
      
      <a href="/categories/#news">news</a>
      
      
      and tagged
      
      <a href="/tags/#version" title="version">version </a>, 
      
      <a href="/tags/#new features" title="new features">new features </a>, 
      
      <a href="/tags/#google analytics" title="google analytics">google analytics </a>, 
      
      <a href="/tags/#google search" title="google search">google search </a>, 
      
      <a href="/tags/#back to top" title="back to top">back to top </a>, 
      
      <a href="/tags/#read more" title="read more">read more </a>
      
      
      <time itemprop="datePublished" datetime="2015-03-31">
      on Mar 31, 2015
      </time>
      </p>
    </header>

    <article class="post-content" itemprop="articleBody">
      <p>Today, I update the theme with some new features. Welcome to use freshman21 2.0 version(gh-pages branch).</p>

<p><strong>gh-pages branch new features</strong> :</p>

<ul>
  <li>Google  search</li>
  <li>Google analytics</li>
  <li>Read more mode</li>
  <li>Open Graph META Tags</li>
  <li>Microdata(schema.org)</li>
  <li>back to top button</li>
  <li>font awesome icon</li>
</ul>

<p><strong>master branch new features</strong> :</p>

<ul>
  <li>Open Graph META Tags</li>
  <li>Microdata(schema.org)</li>
</ul>

<p>The main difference between master and gh-pages: only one Javascript (Mathjax) be included in master branch.</p>

<p>Master branch is a more purified html+css framework than gh-pages branch.</p>

<p>Clone master branch:</p>

<p><code class="highlighter-rouge"> git clone https://github.com/yulijia/freshman21.git -b master --single-branch</code></p>

<p>Clone gh-pages branch:</p>

<p><code class="highlighter-rouge">git clone https://github.com/yulijia/freshman21.git -b gh-pages --single-branch</code></p>

    </article> <hr />
    
    
  
    <header class="post-header">
      <h1 itemprop="name" class="post-title">
        <a itemprop="url" class="post-link" href="/articles/howto/2014/12/19/how-to-set-the-config-file.html">How to set the config.yml file</a>
      </h1>
      <meta itemprop="keywords" content="configure" />
      <p class="post-meta">
      Posted in
      
      <a href="/categories/#articles">articles</a>
      
      <a href="/categories/#Howto">Howto</a>
      
      
      and tagged
      
      <a href="/tags/#configure" title="configure">configure </a>
      
      
      <time itemprop="datePublished" datetime="2014-12-19">
      on Dec 19, 2014
      </time>
      </p>
    </header>

    <article class="post-content" itemprop="articleBody">
      <p>The <a href="https://github.com/yulijia/freshman21/blob/master/_config.yml">config.yml file</a> in the Freshman21 theme includes five parts.</p>

<p><strong>First part</strong> is the site info.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="s">title</span><span class="pi">:</span> <span class="s">Freshman21</span> <span class="c1"># blog title</span>
<span class="s">tagline</span><span class="pi">:</span> <span class="s">Another Jekyll theme, Freshman twenty-first</span> <span class="c1"># blog sub-titile</span>
<span class="s">author</span><span class="pi">:</span> <span class="s">Lijia YU</span> <span class="c1"># author name</span>
<span class="s">email</span><span class="pi">:</span> <span class="s">yu@lijiayu.net</span> <span class="c1"># author email</span>
<span class="s">description</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Freshman21</span><span class="nv"> </span><span class="s">is</span><span class="nv"> </span><span class="s">a</span><span class="nv"> </span><span class="s">Jekyll</span><span class="nv"> </span><span class="s">blog</span><span class="nv"> </span><span class="s">theme."</span> <span class="c1"># You can edit this line in _config.yml. It will appear in your document head meta and in </span>
<span class="s">your feed.xml site description</span>
<span class="s">keywords</span><span class="pi">:</span> <span class="s2">"</span><span class="s">Jekyll,</span><span class="nv"> </span><span class="s">theme,</span><span class="nv"> </span><span class="s">Freshman21"</span> <span class="c1"># html meta keywords</span>
<span class="s">baseurl</span><span class="pi">:</span> <span class="s2">"</span><span class="s">/freshman21"</span> <span class="c1"># the subpath of your site, e.g. /blog</span>
<span class="s">url</span><span class="pi">:</span> <span class="s2">"</span><span class="s">http://yulijia.net/freshman21"</span> <span class="c1"># the base hostname &amp; protocol for your site</span>
</code></pre>
</div>

<p><strong>Part 2</strong>, Personal info and site tools info, twitter, github, aboutme and aboutme_photo only appears on the sidebar aboutme-box, you can <q>Hide</q> in two ways <sup><a href="#[1]">[1]</a></sup>:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="s">twitter_username</span><span class="pi">:</span> <span class="c1">#your twitter handle  </span>
<span class="s">github_username</span><span class="pi">:</span>  <span class="c1">#your github account</span>
<span class="s">disqus_shortname</span><span class="pi">:</span> <span class="c1">#disqus shortname</span>
<span class="s">favicon</span><span class="pi">:</span>     <span class="s2">"</span><span class="s">images/favicon.ico"</span>
<span class="s">aboutme</span><span class="pi">:</span> <span class="s">Hi, this is Lijia Yu. I made the Freshman21 theme. Please enjoy it.</span> <span class="c1"># these are shown on aboutme-box(sidebar).</span>
<span class="s">aboutme_photo</span><span class="pi">:</span> <span class="s">https://i.imgur.com/15BT1.jpg</span> <span class="c1"># your personal photo.</span>
</code></pre>
</div>

<p><strong>Part3</strong>, Site setting:</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="s">ShowContactInfo</span><span class="pi">:</span> <span class="s2">"</span><span class="s">True"</span> <span class="c1"># Personal Info (twitter,github,email) can be seen on aboutme-sidebar, those info only shown where ShowContactInfo == True</span>
<span class="s">default_column</span><span class="pi">:</span> <span class="s2">"</span><span class="s">two"</span> <span class="c1"># blog style: two columns, if default_column != "two", you will see a one column blog.</span>
<span class="s">default_locale</span><span class="pi">:</span> <span class="s2">"</span><span class="s">en"</span> <span class="c1"># blog sidebar language set, only include: English(en) and Chinese (cn)</span>
</code></pre>
</div>

<p><strong>Part4</strong>, Blogroll info, only <em>name</em> tags can shown on the page.</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="s">Blogroll</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">name</span><span class="pi">:</span> <span class="s">Freshman</span>
        <span class="s">href</span><span class="pi">:</span> <span class="s">http://yulijia.net/freshman</span>
        <span class="s">title</span><span class="pi">:</span> <span class="s">Another Jekyll blog theme</span>
      <span class="pi">-</span> <span class="s">name</span><span class="pi">:</span> <span class="s">author's website</span>
        <span class="s">href</span><span class="pi">:</span> <span class="s">http://yulijia.net/</span>
        <span class="s">title</span><span class="pi">:</span> <span class="s">Lijia Yu's website</span>
</code></pre>
</div>

<p><strong>Part5</strong>, Build settings</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="s">markdown</span><span class="pi">:</span> <span class="s">kramdown</span>
<span class="s">highlighter</span><span class="pi">:</span> <span class="s">pygments</span> <span class="c1"># highlight</span>
<span class="s">paginate</span><span class="pi">:</span> <span class="s">5</span>  <span class="c1"># how many post can seen in the main page</span>
</code></pre>
</div>

<p>=====</p>

<ul style="list-style-type:none;"> 
<li id="[1]"> [1], you can set those info at <strong>Part3</strong> or just delete the <q>aboutme.html</q> at <q>sidebar.html</q> in <code>_include</code> folder. </li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="nt">&lt;div</span> <span class="na">class=</span><span class="s">"col-sm-2"</span><span class="nt">&gt;</span>
  <span class="c">&lt;!--{ % include Aboutme.html % }--&gt;</span>
   { % include Copyright_Notice.html % }
   { % include Recent_Posts.html % }
   { % include Categories.html % }
   { % include Tags.html % }
   { % include Blogroll.html % }
   { % include Archives.html % }
<span class="nt">&lt;/div&gt;</span>
</code></pre>
</div>


    </article> <hr />
    
    
  
    <header class="post-header">
      <h1 itemprop="name" class="post-title">
        <a itemprop="url" class="post-link" href="/articles/howto/2014/12/19/freshman21-structure.html">Theme structure</a>
      </h1>
      <meta itemprop="keywords" content="structure" />
      <p class="post-meta">
      Posted in
      
      <a href="/categories/#articles">articles</a>
      
      <a href="/categories/#Howto">Howto</a>
      
      
      and tagged
      
      <a href="/tags/#structure" title="structure">structure </a>
      
      
      <time itemprop="datePublished" datetime="2014-12-19">
      on Dec 19, 2014
      </time>
      </p>
    </header>

    <article class="post-content" itemprop="articleBody">
      <h2 id="the-structure-of-freshman21-theme">1.The structure of freshman21 theme</h2>

<p>You can see the simplest way of adding a page is just to add an HTML ( or markdown ) file in the root directory with a suitable name for the page you want to create. For example, aahome.md is the homepage link, about.md is the about page.</p>

<p>All sidebar boxes html files are in the <code>_include</code> directory, their name begin with upper case. You can chose which sidebar boxes appears in the main page on the <q>sidebar.html</q> in the <code>_includes</code> directory.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>.
|-- a_home.md                 <span class="c"># home page link at navigation bar</span>
|-- b_about.md                <span class="c"># about link at navigation bar</span>
|-- c_archives.md             <span class="c"># archives link at navigation bar</span>
|-- _config.yml
|-- css
|   <span class="sb">`</span>-- main.scss
|-- d_categories.md           <span class="c"># categories link at navigation bar </span>
|-- e_tags.md                 <span class="c"># tags at main navigation bar</span>
|-- feed.xml                  <span class="c"># RSS at main navigation bar</span>
|-- f_guestbook.md            <span class="c"># guest book like at navigation bar</span>
|-- images
|   <span class="sb">`</span>-- favicon.ico           <span class="c"># here is your website favicon</span>
|-- _includes
|   |-- Aboutme.html          <span class="c"># right column sidebar content</span>
|   |-- Archives.html         <span class="c"># right column sidebar content</span>
|   |-- Blogroll.html         <span class="c"># right column sidebar content</span>
|   |-- Categories.html       <span class="c"># right column sidebar content</span>
|   |-- comments.html         <span class="c"># right column sidebar content</span>
|   |-- Copyright_Notice.html <span class="c"># right column sidebar content</span>
|   |-- footer.html
|   |-- header.html
|   |-- head.html
|   |-- page_pagination.html
|   |-- post_pagination.html
|   |-- Recent_Posts.html     <span class="c"># right column sidebar content</span>
|   |-- sidebar.html          <span class="c"># you can set you own sidebar content in here</span>
|   <span class="sb">`</span>-- Tags.html             <span class="c"># right column sidebar content</span>
|-- index.html
|-- _layouts
|   |-- default.html
|   |-- page.html
|   <span class="sb">`</span>-- post.html
|-- LICENSE
|-- _posts
|   |-- 2013-10-10-milu.md
|   |-- 2014-12-13-simple-post.md
|   |-- 2014-12-18-how-to-install.md
|   |-- 2014-12-19-freshman21-structure.md
|   |-- 2014-12-19-how-to-set-the-config-file.md
|   <span class="sb">`</span>-- 2015-03-31-readme.md
|-- README.md
<span class="sb">`</span>-- _sass
    |-- _base.scss
    |-- _layout.scss
    |-- _syntax-highlighting-native.scss
    <span class="sb">`</span>-- _syntax-highlighting.scss
</code></pre>
</div>

<h2 id="structure-with-named-folders-containing-index-html-files">2.Structure with Named folders containing index HTML files</h2>

<p>There is nothing wrong with the above method, however some people like to keep their URLs free from things like filename extensions. To achieve clean URLs for pages using Jekyll, you simply need to create a folder for each top-level page you want, and then place an index.html file in each page’s folder. You can find the more detail at <a href="http://jekyllrb.com/docs/pages/" title="Creating pages">Jekyll documentation</a>. Here is my own blog structure with page-folders to contain each pages.</p>

<div class="highlighter-rouge"><pre class="highlight"><code>.
├── _backup
│   ├── en.tar.gz
│   └── style.css
├── categories                              <span class="c"># =&gt; http://yulijia.net/en/categories/ </span>
│   └── index.md
├── _config.yml
├── css
│   └── main.scss
├── feed                                    <span class="c"># =&gt; http://yulijia.net/en/feed/index.xml</span>
│   └── index.xml
├── guestbook                               <span class="c"># =&gt; http://yulijia.net/en/guestbook/</span>
│   └── index.md
├── home.md
├── _includes
│   ├── Aboutme.html
│   ├── Archives.html
│   ├── Blogroll.html
│   ├── Categories.html
│   ├── comments.html
│   ├── Copyright_Notice.html
│   ├── footer.html
│   ├── header.html
│   ├── head.html
│   ├── page_pagination.html
│   ├── post_pagination.html
│   ├── Recent_Posts.html
│   ├── sidebar.html
│   └── Tags.html
├── index.html
├── _layouts
│   ├── default.html
│   ├── page.html
│   └── post.html
├── _posts
│   ├── 2011-07-22-hello-world.md
│   ├── 2011-08-06-how-to-calculate-word-frequencies-with-r.md
│   ├── 2011-08-18-should-draco-be-effective-against-virtually-all-viruses.md
│   ├── 2011-10-21-why-viruses-produce-long-dsrna-but-not-endogenous-ones.md
│   ├── 2012-03-22-100-things-bioinformatics-students-should-do-before-graduating.md
│   ├── 2012-10-08-a-new-site.md
│   ├── 2012-10-09-github-pages.md
│   ├── 2012-10-22-a-conference-of-Genomics-and-Epigenomics.md
│   ├── 2012-10-23-CSHL-Asia-interesting-talks-on-genomics-and-epigenomics.md
│   └── 2013-01-30-how-to-get-RefSeq-gene-annotations-from-UCSCdatabase.md
├── README.md
├── _sass
│   ├── _base.scss
│   ├── _layout.scss
│   └── _syntax-highlighting.scss
└── tags
    └── index.md
</code></pre>
</div>

<h2 id="how-to-change-the-highlight-style">3. How to change the highlight style?</h2>

<p>This theme’s default highlighter is pygments.</p>

<p>To change the highlight style, you should install <strong>pygments</strong>, and generate the css style which you wanted with code</p>

<p><code>pygmentize -S default -f html &gt; freshman/_sass/_syntax-highlighting.scss</code></p>

<p>Please make sure, add <code>.highlight {</code> at the head  and <code>}</code> at the end of file <q>_syntax-highlighting.scss</q>.</p>

<p>See more,</p>

<ol>
  <li><a href="http://pygments.org/languages/">Pygments Supported languages</a></li>
  <li><a href="http://stackoverflow.com/questions/9652490/do-i-need-to-generate-a-css-file-from-pygments-for-my-jekyll-blog-to-enable-col">Pygments online deme</a></li>
</ol>

    </article> <hr />
    
    
  
  </div>
</div>

    </div>
  </div>
  <section class="pager">
  
  
  <li class="next"><a href="/page2/" title="Older">Older &rarr;</a></li>
  
</section>



  

  <footer class="site-footer">

  <p>Copyright &copy; <a href="/">Zacharski</a></p>
  <p>Powered by <a href="https://github.com/jekyll/jekyll">Jekyll</a> 
  on 
  
  <a href="https://github.com/">Github</a>
  
  | Theme <a href="https://github.com/yulijia/freshman21/">Freshman21</a> Design by <a href="http://yulijia.net">Lijia Yu</a>  

</footer>


</div>

</body>

</html>
